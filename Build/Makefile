all: subsystems

descend = @echo "\n\n$(1)\n"; cd ../$(1) && pwd && $(MAKE)
#clobber = @echo "\n\n$(1)\n"; cd ../$(1) && $(MAKE) clean
clobber = cd ../$(1) && $(MAKE) clean

subsystems:
	$(call descend,01_GettingStarted)
	$(call descend,02_Revision)
	$(call descend,03_FilesIO)
	$(call descend,04_C_Extensions)
	$(call descend,05_Classes)
	$(call descend,06_OperatorOverloading)
	$(call descend,07_ShallowDeepCopying)
	$(call descend,08_StandardTemplateLibrary)
	$(call descend,09_Inheritance)
	$(call descend,10_Polymorphism)
	$(call descend,A01_Lambdas)
	$(call descend,A02_Namespaces)
	$(call descend,A03_NewFeatures)
	$(call descend,A04_TemplateFunctions)
	$(call descend,A05_TemplateClasses)
	$(call descend,A06_ExceptionHandling)
	$(call descend,A07_STL_Containers)
	$(call descend,A08_STL_Miscellaneous)
	$(call descend,A09_STL_Algorithms)
	$(call descend,A10_HandleBody)
	$(call descend,A11_RValueReferencesAndMove)
	$(call descend,A12_SmartPointers)
	$(call descend,A13_AdvancedTemplates)
	$(call descend,A14_ObjectOrientedCallbacks)
	$(call descend,A15_BindAndFunction)
	$(call descend,A16_Bindings)
	$(call descend,A17_MemoryManagement)
	$(call descend,A18_CommonPatterns)
	$(call descend,A19_Concepts)
	$(call descend,A20_Ranges)
	$(call descend,A21_TODO_Coroutines)
	$(call descend,A22_TODO_Modules)
	$(call descend,A23_Threads)
	$(call descend,A24_RegEx)
	$(call descend,A25_MultipleInheritance)
	$(call descend,A26_Miscellaneous)
	$(call descend,A27_TypeCasting)

clean:
	$(call clobber,01_GettingStarted)
	$(call clobber,02_Revision)
	$(call clobber,03_FilesIO)
	$(call clobber,04_C_Extensions)
	$(call clobber,05_Classes)
	$(call clobber,06_OperatorOverloading)
	$(call clobber,07_ShallowDeepCopying)
	$(call clobber,08_StandardTemplateLibrary)
	$(call clobber,09_Inheritance)
	$(call clobber,10_Polymorphism)
	$(call clobber,A01_Lambdas)
	$(call clobber,A02_Namespaces)
	$(call clobber,A03_NewFeatures)
	$(call clobber,A04_TemplateFunctions)
	$(call clobber,A05_TemplateClasses)
	$(call clobber,A06_ExceptionHandling)
	$(call clobber,A07_STL_Containers)
	$(call clobber,A08_STL_Miscellaneous)
	$(call clobber,A09_STL_Algorithms)
	$(call clobber,A10_HandleBody)
	$(call clobber,A11_RValueReferencesAndMove)
	$(call clobber,A12_SmartPointers)
	$(call clobber,A13_AdvancedTemplates)
	$(call clobber,A14_ObjectOrientedCallbacks)
	$(call clobber,A15_BindAndFunction)
	$(call clobber,A16_Bindings)
	$(call clobber,A17_MemoryManagement)
	$(call clobber,A18_CommonPatterns)
	$(call clobber,A19_Concepts)
	$(call clobber,A20_Ranges)
	$(call clobber,A21_TODO_Coroutines)
	$(call clobber,A22_TODO_Modules)
	$(call clobber,A23_Threads)
	$(call clobber,A24_RegEx)
	$(call clobber,A25_MultipleInheritance)
	$(call clobber,A26_Miscellaneous)
	$(call clobber,A27_TypeCasting)
